# 图片生成功能使用指南

## 概述

聊天阅读器支持通过油猴脚本自动处理特定格式的文本，生成AI图片。这个功能不需要修改React应用代码，而是由油猴脚本在浏览器端自动处理。

## 使用方法

### 基本用法

在聊天消息中直接使用以下格式来触发图片生成：

```
image###[你的图片提示词]###
```

例如：

```
image###1girl, solo, masterpiece, best quality###
```

### 重要注意事项

- **不要添加额外的HTML标签**：确保image###标签直接出现在文本中，不要包裹在其他HTML标签中
- **不要嵌套标签**：避免在其他特殊格式标签内使用image###标签
- **保持标签格式完整**：确保开始标记(`image###`)和结束标记(`###`)完整，中间不要有多余的空格

### 提示词技巧

1. **基本结构**：主体对象 + 细节描述 + 质量标签
   
   例如：`image###1girl, school uniform, blonde hair, blue eyes, best quality, masterpiece###`

2. **负面提示词**：由油猴脚本自动添加，通常不需要自己指定

3. **LORA支持**：可以在提示词中使用LORA标签

   例如：`image###1girl, <lora:characterName:0.8>, smile###`

4. **井号(#)处理**：如果提示词中需要使用井号(#)，请使用英文描述代替，例如用"tag"代替"#tag"

## 油猴脚本设置

默认情况下，油猴脚本使用以下标签格式：
- 开始标记: `image###`
- 结束标记: `###`

如果需要修改这些标记，可以在油猴脚本的设置面板中更改。

## 调试技巧

如果图片生成不正常，可以尝试以下方法:

1. 查看浏览器控制台，检查是否有相关错误消息
2. 确认油猴脚本已启用并正常运行
3. 在页面上右键检查元素，确认image###标签没有被其他HTML标签包裹
4. 尝试简化提示词，避免使用特殊字符

## 常见问题解答

**Q: 为什么我的图片生成请求没有被识别？**
A: 确保使用了正确的标记格式。检查油猴脚本是否已启用，以及标记设置是否与您使用的格式一致。

**Q: 如何查看当前油猴脚本的设置？**
A: 点击油猴脚本添加的"打开文生图设置"按钮，查看当前的标记设置和其他参数。

**Q: 提示词中有特殊字符怎么办？**
A: 尽量避免在提示词中使用井号(#)和HTML特殊字符。如果必须使用，请考虑用替代文本表示。

## 示例

下面是一些有效的图片生成请求示例：

```
image###1girl, solo, masterpiece, best quality###

image###landscape, mountains, sunset, 8k, hdr###

image###cyberpunk city, rainy night, neon lights, detailed###

image###1boy, athletic, casual clothes, <lora:animatedStyle:0.7>###
``` 